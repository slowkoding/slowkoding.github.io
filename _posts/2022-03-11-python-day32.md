---
layout: single
title: "[Python] íŒŒì´ì¬ ì±Œë¦°ì§€ Day32(Automated Birthday Wisher Project)"
categories: python
tags: [python, coding, 100DaysOfPython, Day32, 2022/03/11]
toc: true
toc_sticky: true
author_profile: true
comments: true
share: true
related: true
published: true
sidebar: 
    nav: "docs"
---

## 1. ì„œë¡   

&nbsp;&nbsp;&nbsp;&nbsp;íŒŒì´ì¬ ê³µë¶€ë¥¼ ìœ„í•´ Udemyì— ìˆëŠ” [100 Days of Code: The Complete Python Pro Bootcamp for 2022](https://www.udemy.com/course/100-days-of-code/) ê³¼ì •ì„ ë“£ê³  ìˆë‹¤. ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Day1-100 ì¤‘ Day32ì—ì„œ ë§Œë“¤ì—ˆë˜ Automated Birthday Wisher Projectì— ëŒ€í•˜ì—¬ ë¦¬ë·°í•´ë³´ë ¤ê³  í•œë‹¤.

## 2. ë³¸ë¡   

### 1. Automated Birthday Wisher Project  

&nbsp;&nbsp;&nbsp;&nbsp;ğŸ¤” ë¬¸ì œëŠ” (ì´ë¦„, ì´ë©”ì¼ì£¼ì†Œ, ìƒì¼ë‚ ì§œ)ê°€ ë“¤ì–´ìˆëŠ” csv íŒŒì¼ê³¼ ì´ë¦„ì´ [Name]ìœ¼ë¡œ í‘œì‹œëœ í¸ì§€ í˜•ì‹ ì„¸ê°€ì§€ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì˜¤ëŠ˜ì´ ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ì‚¬ëŒ ì¤‘ í•œëª…ì˜ ìƒì¼ê³¼ ë‚ ì§œê°€ ì¼ì¹˜í•˜ë©´ í¸ì§€ í˜•ì‹ì„ ëœë¤ìœ¼ë¡œ ë½‘ì•„ ì´ë¦„ì„ ë°”ê¾¼ í›„ ì „ì†¡í•˜ëŠ” ì½”ë“œë¥¼ ì§œëŠ” ê²ƒì´ì—ˆë‹¤.

â¬‡ï¸ ì‘ì„±í•œ ì½”ë“œ â¬‡ï¸

```
##################### Extra Hard Starting Project ######################
import datetime as dt
import pandas as pd
import random as rd
import smtplib

# 1. Update the birthdays.csv

# 2. Check if today matches a birthday in the birthdays.csv
now = dt.datetime.now()
month = now.month
day = now.day

data = pd.read_csv("birthdays.csv")

my_email = "friedchicken@gmail.com"
password = "abcd1234"

for i in range(len(data)):
    if data['month'][i] == month:
        if data['day'][i] == day:
            # 3. If step 2 is true, pick a random letter from letter templates and replace the [NAME] with the person's actual name from birthdays.csv
            random_number = rd.randint(1,3)
            with open (f"./letter_templates/letter_{random_number}.txt") as letter_draft:
                letter = letter_draft.read()
                name = data['name'][i]
                letter = letter.replace('[NAME]', name)
            # 4. Send the letter generated in step 3 to that person's email address.
            with smtplib.SMTP("smtp.gmail.com") as connection:
                connection.starttls()
                connection.login(user=my_email, password=password)
                connection.sendmail(from_addr=my_email, to_addrs=data['email'][i], msg=f"Subject:Happy Birthday {name}!\n\n{letter}")
```  

â¬‡ï¸ ì†”ë£¨ì…˜ ì½”ë“œ â¬‡ï¸

```
#To run and test the code you need to update 4 places:
# 1. Change MY_EMAIL/MY_PASSWORD to your own details.
# 2. Go to your email provider and make it allow less secure apps.
# 3. Update the SMTP ADDRESS to match your email provider.
# 4. Update birthdays.csv to contain today's month and day.
# See the solution video in the 100 Days of Python Course for explainations.


from datetime import datetime
import pandas
import random
import smtplib

MY_EMAIL = "YOUR EMAIL"
MY_PASSWORD = "YOUR PASSWORD"

today = datetime.now()
today_tuple = (today.month, today.day)

data = pandas.read_csv("birthdays.csv")
birthdays_dict = {(data_row["month"], data_row["day"]): data_row for (index, data_row) in data.iterrows()}
if today_tuple in birthdays_dict:
    birthday_person = birthdays_dict[today_tuple]
    file_path = f"letter_templates/letter_{random.randint(1,3)}.txt"
    with open(file_path) as letter_file:
        contents = letter_file.read()
        contents = contents.replace("[NAME]", birthday_person["name"])

    with smtplib.SMTP("YOUR EMAIL PROVIDER SMTP SERVER ADDRESS") as connection:
        connection.starttls()
        connection.login(MY_EMAIL, MY_PASSWORD)
        connection.sendmail(
            from_addr=MY_EMAIL,
            to_addrs=birthday_person["email"],
            msg=f"Subject:Happy Birthday!\n\n{contents}"
        )
```

&nbsp;&nbsp;&nbsp;&nbsp;âœ”ï¸ ì´ë²ˆ ì±Œë¦°ì§€ë¥¼ í†µí•˜ì—¬ ë°°ìš´ ë¶€ë¶„ì´ë‚˜ ëŠë‚€ì ì€ âœ”ï¸
- <b>Extra Hard(íŒíŠ¸ê°€ ì—†ëŠ”)ë¡œ ê³¨ë¼ì„œ ì§„í–‰í–ˆëŠ”ë°, ì˜ˆì „ì— Extra Hardë¥¼ ê³¨ëì„ ë•Œì™€ ë‹¬ë¦¬ ì½”ë”©í•˜ëŠ”ë° ì–´ë ¤ì›€ì€ ì—†ì—ˆë‹¤.</b>
- <b>ê·¸ëŸ¬ë‚˜ ê°€ì´ë“œê°€ ì—†ì´ í•˜ë‹¤ë³´ë‹ˆ ì¢€ ë” ë‚˜ì€ ë°©ì‹ì´ ì•„ë‹Œ ë‚´ê°€ í¸í•œ ë°©ì‹ìœ¼ë¡œ ì½”ë”©ì„ í–ˆë‹¤.</b>
- <b>ì˜¤ëŠ˜ ë‚ ì§œë¥¼ tupleë¡œ ë§Œë“œëŠ” ëŒ€ì‹  monthì™€ dayë¡œ ë‚˜ëˆ„ì–´ ë”°ë¡œ forë¬¸ì„ ëŒë ¸ë‹¤.</b>
- <b>dictionary í‘œí˜„ì‹ì„ ë°°ì› ëŠ”ë° ì‚¬ìš©í•  ìƒê°ì„ í•˜ì§€ ëª»í–ˆë‹¤.</b>
  
## 3. ê²°ë¡   

&nbsp;&nbsp;&nbsp;&nbsp;ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” Automated Birthday Wisher Projectë¥¼ ë¦¬ë·°í•´ë³´ì•˜ë‹¤. ëª¨ë“  ë¬¸ë²• ë“±ì„ ì™¸ì›Œì„œ ì‚¬ìš©í•˜ì§„ ëª»í•˜ì§€ë§Œ í™•ì‹¤íˆ ì˜ˆì „ì— ë¹„í•´ êµ¬ê¸€ë§ì„ í†µí•´ì„œë“  í˜¼ì ì™„ì„±í•´ ë‚˜ê°€ëŠ” ì‹¤ë ¥ì€ ë§ì´ í–¥ìƒëœ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ ë””í…Œì¼ì— ìˆì–´ì„œ ë°°ìš´ê²ƒ ì¤‘ ìµœì„ ì´ ì•„ë‹Œ ìµìˆ™í•œ ê²ƒì„ ì‚¬ìš©í•˜ëŠ” ê²½í–¥ì´ ë‚¨ì•„ ìˆëŠ” ê²ƒ ê°™ë‹¤. ì´ëŠ” ì•ìœ¼ë¡œ ì—°ìŠµê³¼ í”¼ë“œë°±ìœ¼ë¡œ í•´ê²°í•´ ë‚˜ê°€ì•¼ ê² ë‹¤.

## 4. ì°¸ê³ ìë£Œ  

â… . [100 Days of Code: The Complete Python Pro Bootcamp for 2022](https://www.udemy.com/course/100-days-of-code/)

---

```bash
ì´ì œ ë§‰ í”„ë¡œê·¸ë˜ë° ê³µë¶€ë¥¼ ì‹œì‘í•œ ì´ˆë³´ ê°œë°œìì…ë‹ˆë‹¤.
ì´ ë¸”ë¡œê·¸ ê¸€ë“¤ì˜ ì£¼ ëª©ì ì€ ê³µë¶€í•œê²ƒì„ ë³µìŠµí•˜ê¸° ìœ„í•œê²ƒì´ë©°, 
ë§Œì•½ í‹€ë¦¬ê±°ë‚˜ ìˆ˜ì •í•˜ë©´ ì¢‹ì„ ë¶€ë¶„ë“¤ì€
ì¹œì ˆí•˜ê²Œ ëŒ“ê¸€ë‹¬ì•„ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. :)
```

---