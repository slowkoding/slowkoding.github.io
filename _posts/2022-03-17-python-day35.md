---
layout: single
title: "[Python] íŒŒì´ì¬ ì±Œë¦°ì§€ Day35(Send Telegram Message)"
categories: Python
tags: [python, coding, 100DaysOfPython, Day35, 2022/03/17]
toc: true
toc_sticky: true
author_profile: true
comments: true
share: true
related: true
published: true
sidebar: 
    nav: "docs"
---

## 1. ì„œë¡   

&nbsp;&nbsp;&nbsp;&nbsp;íŒŒì´ì¬ ê³µë¶€ë¥¼ ìœ„í•´ Udemyì— ìˆëŠ” [100 Days of Code: The Complete Python Pro Bootcamp for 2022](https://www.udemy.com/course/100-days-of-code/) ê³¼ì •ì„ ë“£ê³  ìˆë‹¤. ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Day1-100 ì¤‘ Day35ì—ì„œ ë§Œë“¤ì—ˆë˜ Send Telegram Message ëŒ€í•´ ë¦¬ë·°í•´ë³´ë ¤ê³  í•œë‹¤.

## 2. ë³¸ë¡   

### 1. Send Telegram Message  

&nbsp;&nbsp;&nbsp;&nbsp;ğŸ¤” ë¬¸ì œëŠ” ë‚ ì”¨ ë°ì´í„°ë¥¼ apië¥¼ í†µí•´ ì‹œê°„ë‹¨ìœ„ë¡œ ë°›ì•„ì™€ì„œ, ë§Œì•½ í–¥í›„ 12ì‹œê°„ ë‚´ì— ë¹„ê°€ ì˜¬ ì˜ˆì •ì´ë©´ ìš°ì‚°ì„ ì±™ê¸°ë¼ëŠ” ë¬¸ìë¥¼ ë³´ë‚´ëŠ” ê²ƒì´ì—ˆë‹¤. í•˜ì§€ë§Œ ì˜ˆì „ë¶€í„° apië¡œ ì–»ì€ ì •ë³´ë¥¼ í…”ë ˆê·¸ë¨ìœ¼ë¡œ ë³´ë‚´ëŠ” ê²ƒì— ëŒ€í•œ ê¶ê¸ˆì¦ì´ ìˆì–´ì„œ, ë¬¸ì ëŒ€ì‹  í…”ë ˆê·¸ë¨ ë©”ì„¸ì§€ë¡œ ë³€ê²½í•˜ì—¬ ì½”ë“œë¥¼ ì§œë³´ì•˜ë‹¤. ë˜í•œ ëª¨ë“  ì½”ë“œëŠ” [github](https://github.com/slowkoding/The-Complete-Python-Pro-Bootcamp-for-2022/tree/main/day35(send_telegram_message))ì—ë„ ì—…ë¡œë“œ í•˜ì˜€ë‹¤.   

â¬‡ï¸ ì‘ì„±í•œ ì½”ë“œ â¬‡ï¸  

- main.py

```
import pprint
import requests
import config
from telegram_bot import telegram_bot

my_latitude = 37.566536
my_longitude = 126.977966

ow_endpoint = "https://api.openweathermap.org/data/2.5/onecall"

weather_params = {
    "lat": my_latitude,
    "lon": my_longitude,
    "appid": config.api_key,
    "exclude": "current,minutely,daily"
}

weather_response = requests.get(ow_endpoint, params=weather_params)
weather_response.raise_for_status()
weather_dt = weather_response.json()
weather_slice = weather_dt["hourly"][:12]

# pprint.pprint(weather_dt)

will_rain = [hour_data["weather"][0]["id"] for hour_data in weather_slice if hour_data["weather"][0]["id"] < 700]

if 4 > len(will_rain) >= 1:
    telegram_bot("It's going to be showery. Bring your umbrella with you.")
elif len(will_rain) >= 4:
    telegram_bot("It's going to be pouring outsite. Bring your umbrella with you.")
```  

- telegram_bot.py

```
import requests
import config

class telegram_bot:
    
    def __init__(self, bot_message):
        self.send_text = f"https://api.telegram.org/bot{config.bot_token}/sendMessage?chat_id={config.bot_chatID}&parse_mode=Markdown&text={bot_message}"
        self.response = requests.get(self.send_text)
```

- config.py

```
# api ë“±ì˜ ê°œì¸ì •ë³´ëŠ” ì´ íŒŒì¼ì— ë”°ë¡œ ì €ì¥í•´ë‘ì—ˆë‹¤. 
```

&nbsp;&nbsp;&nbsp;&nbsp;âœ”ï¸ ì´ë²ˆ ì±Œë¦°ì§€ë¥¼ í†µí•˜ì—¬ ë°°ìš´ ë¶€ë¶„ì´ë‚˜ ëŠë‚€ì ì€ âœ”ï¸
- <b>apië¥¼ í†µí•´ ë‚´ê°€ ì›í•˜ëŠ” ì •ë³´ë¥¼ í…”ë ˆê·¸ë¨ ë©”ì„¸ì§€ë¡œ ë³´ë‚´ëŠ”ê±¸ ìë™í™”í•˜ëŠ”ê²Œ ìƒê°ë³´ë‹¤ ì–´ë µì§€ ì•Šê³  ì¬ë°Œì—ˆë‹¤.</b>
- <b>ê°•ì˜ì—ì„œëŠ” forë¬¸ìœ¼ë¡œ í‘œí˜„í•œ ë¶€ë¶„ì„ ë¦¬ìŠ¤íŠ¸ í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì˜€ê³ , í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ë¡œ ë¹„ê°€ ì˜¤ëŠ”ì§€ í™•ì¸í–ˆë‹¤.</b>
- <b>OOPë¥¼ ìœ„í•œ ë…¸ë ¥ì˜ ì¼í™˜ìœ¼ë¡œ telegram_botë¥¼ ë³„ë„ì˜ íŒŒì¼ì— í´ë˜ìŠ¤ë¡œ ì •ì˜í•´ì£¼ì—ˆë‹¤. í•˜ì§€ë§Œ ì–´ë–»ê²Œ í•´ì•¼ OOPì— ë¶€í•©í•˜ëŠ”ì§€ ì´ë¡ ì´ ì•„ë‹Œ ì‹¤ì œ ì½”ë”©ì—ì„œëŠ” ì•„ì§ ì •í™•íˆ ì˜ ëª¨ë¥´ê² ë‹¤.</b>
- <b>ë¯¼ê°í•œ ê°œì¸ì •ë³´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í™˜ê²½ë³€ìˆ˜ì™€ .gitignoreíŒŒì¼ì— ì¶”ê°€í•˜ëŠ” ë²•ì„ ë‹¤ë¥¸ í•™ìƒë“¤ì˜ QnAë¡œë¶€í„° ë°°ì› ê³ , .gitignoreíŒŒì¼ì— ì¶”ê°€í•˜ëŠ” ë°©ì‹ì´ ë” ë‚˜ì€ ê²ƒ ê°™ì•„ ê·¸ ë°©ë²•ëŒ€ë¡œ í•´ë´¤ë‹¤.</b>  

## 3. ê²°ë¡   

&nbsp;&nbsp;&nbsp;&nbsp;ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” Send Telegram Messageì„ ë¦¬ë·°í•´ë³´ì•˜ë‹¤. í™•ì‹¤íˆ ê°•ì˜ê°€ ë‚´ê°€ í¥ë¯¸ìˆì–´ í•˜ëŠ” ì£¼ì œë©´ ë” ì²´ë“ì´ ì˜ë˜ê³ , ë” ë§ì€ ì •ë³´ë“¤ì„ ì°¾ìœ¼ë ¤ ìŠ¤ìŠ¤ë¡œ ë…¸ë ¥í•˜ê²Œ ë˜ëŠ” ê²ƒ ê°™ë‹¤.

## 4. ì°¸ê³ ìë£Œ  

â… . [100 Days of Code: The Complete Python Pro Bootcamp for 2022](https://www.udemy.com/course/100-days-of-code/)

---

```bash
ì´ì œ ë§‰ í”„ë¡œê·¸ë˜ë° ê³µë¶€ë¥¼ ì‹œì‘í•œ ì´ˆë³´ ê°œë°œìì…ë‹ˆë‹¤.
ì´ ë¸”ë¡œê·¸ ê¸€ë“¤ì˜ ì£¼ ëª©ì ì€ ê³µë¶€í•œê²ƒì„ ë³µìŠµí•˜ê¸° ìœ„í•œê²ƒì´ë©°, 
ë§Œì•½ í‹€ë¦¬ê±°ë‚˜ ìˆ˜ì •í•˜ë©´ ì¢‹ì„ ë¶€ë¶„ë“¤ì€
ì¹œì ˆí•˜ê²Œ ëŒ“ê¸€ë‹¬ì•„ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. :)
```

---