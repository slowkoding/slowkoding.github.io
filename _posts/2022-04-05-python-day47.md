---
layout: single
title: "[Python] íŒŒì´ì¬ ì±Œë¦°ì§€ Day47(Amazon Price Tracker)"
categories: python
tags: [python, coding, api, 100DaysOfPython, Day47, 2022/04/05]
toc: true
toc_sticky: true
author_profile: true
comments: true
share: true
related: true
published: true
sidebar: 
    nav: "docs"
---

## 1. ì„œë¡   

&nbsp;&nbsp;&nbsp;&nbsp;íŒŒì´ì¬ ê³µë¶€ë¥¼ ìœ„í•´ Udemyì— ìˆëŠ” [100 Days of Code: The Complete Python Pro Bootcamp for 2022](https://www.udemy.com/course/100-days-of-code/) ê³¼ì •ì„ ë“£ê³  ìˆë‹¤. ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Day1-100 ì¤‘ Day47ì—ì„œ ë§Œë“¤ì—ˆë˜ Amazon Price Trackerì— ëŒ€í•˜ì—¬ ë¦¬ë·°í•´ë³´ë ¤ê³  í•œë‹¤.  

## 2. ë³¸ë¡   

### 1. Amazon Price Tracker  

&nbsp;&nbsp;&nbsp;&nbsp;ğŸ¤” ë¬¸ì œëŠ” ì•„ë§ˆì¡´ì—ì„œ íŠ¹ì • ìƒí’ˆì„ ê³ ë¥´ê³  íƒ€ê²Ÿí”„ë¼ì´ìŠ¤ë¥¼ ì •í•œ í›„, í•´ë‹¹ ìƒí’ˆì˜ ì •ë³´ë¥¼ ìŠ¤í¬ë˜í•‘í•´ì„œ ìƒí’ˆì˜ ê°€ê²©ì´ ë‚´ê°€ ì •í•œ íƒ€ê²Ÿí”„ë¼ì´ìŠ¤ ì•„ë˜ë¡œ ë‚´ë ¤ì˜¤ë©´ ë©”ì¼ì„ ë³´ë‚´ëŠ” ê²ƒì´ì—ˆë‹¤. ê·¸ë¦¬ê³  ì™„ì„±ëœ ì½”ë“œëŠ” [github](https://github.com/slowkoding/The-Complete-Python-Pro-Bootcamp-for-2022/tree/main/day47(amazon_price_tracker))ì—ë„ ì—…ë¡œë“œ í•˜ì˜€ë‹¤.         

â¬‡ï¸ ì‘ì„±í•œ ì½”ë“œ â¬‡ï¸  

- main.py

```
from email_manager import EmailManager
from price_tracker import PriceTracker

price_tracker = PriceTracker()
target_price = 90
message = f"LEVOIT Air Purifiers is now ${price_tracker.current_price()}\n{price_tracker.product_url()}"

if price_tracker.check_price(target_price):
    EmailManager(message)
```  

- price_tracker.py

```
import requests
from bs4 import BeautifulSoup

PRODUCT_URL = "https://www.amazon.com/LEVOIT-Purifier-Allergies-Core-200S/dp/B08FJ678YK/"
HEADERS = {
    "User-Agent": "defined",
    "Accept-Language": "ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7"
}

class PriceTracker:
    
    def __init__(self):
        
        response = requests.get(PRODUCT_URL, headers=HEADERS)
        product_web_page = response.text
        
        soup = BeautifulSoup(product_web_page, "lxml")
        price_tag = soup.find_all("span", class_="a-offscreen")[0]
        self.price = float(price_tag.get_text().split("$")[1])
        
    def check_price(self, target_price):
        
        if target_price > self.price:
            return True
        
    def current_price(self):
        
        return self.price
        
    def product_url(self):
        
        return PRODUCT_URL
```  

- email_manager.py

```
import smtplib
import config

class EmailManager:
    
    #This class is responsible for sending notifications with the deal flight details.
    def __init__(self, message):

        with smtplib.SMTP("smtp.gmail.com") as connection:
            
            connection.starttls()
            connection.login(user=config.EMAIL, password=config.PASSWORD)                
            connection.sendmail(from_addr=config.EMAIL, to_addrs=config.EMAIL, msg=f"{message}")
```  

- config.py

```
# email ë“±ì˜ ê°œì¸ì •ë³´ëŠ” ì´ íŒŒì¼ì— ë”°ë¡œ ì €ì¥í•´ë‘ì—ˆë‹¤. 
```  

&nbsp;&nbsp;&nbsp;&nbsp;âœ”ï¸ ì´ë²ˆ ì±Œë¦°ì§€ë¥¼ í†µí•˜ì—¬ ë°°ìš´ ë¶€ë¶„ì´ë‚˜ ëŠë‚€ì ì€ âœ”ï¸
- <b>ê·¸ëƒ¥ ëŠë‚Œì¸ì§€ ëª¨ë¥´ê² ì§€ë§Œ ê°•ì˜ì— ì˜¬ë¼ì˜¨ ëª‡ë…„ì „ì— ìŠ¤í¬ë˜í•‘ì„ í•  ë•Œ í´ë˜ìŠ¤ë‚˜ idë¡œ êµ¬ë³„í•˜ëŠ” ê²ƒ ë³´ë‹¤ ìš”ì¦˜ì—ëŠ” ë¬´ì‘ì • ìŠ¤í¬ë˜í•‘í•˜ê¸° ë” ë³µì¡í•˜ê²Œ ë§Œë“  ê²ƒ ê°™ë‹¤.</b>
- <b>day45, 46ì—ì„œ íŠ¹ë³„íˆ ì¶”ê°€ëœ ê°œë…ì€ ì—†ì–´ì„œ ë³„ë¡œ ì–´ë µì§€ ì•Šì•˜ë‹¤. ë‹¤ë§Œ mainí•˜ë‚˜ì— ì½”ë“œë¥¼ ë‹¤ ë„£ì€ ì†”ë£¨ì…˜ê³¼ëŠ” ë‹¬ë¦¬ OOP ë°©ì‹ì„ ì ìš©í•´ë³´ë ¤ê³  ë…¸ë ¥í–ˆë‹¤.</b>  

## 3. ê²°ë¡   

&nbsp;&nbsp;&nbsp;&nbsp;ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” Amazon Price Trackerë¥¼ ë¦¬ë·°í•´ ë³´ì•˜ë‹¤. í‰ì†Œì— [algumon](https://algumon.com/)ì„ í†µí•´ ì¢‹ì€ ë”œ ì•Œë¦¼ì„ ì„¤ì •í•´ ë†“ì•˜ì–´ì„œ ì´ë²ˆ ì±Œë¦°ì§€ë¥¼ í™•ì¥í•  í•„ìš”ì„±ì„ ëŠë¼ì§„ ëª»í–ˆì§€ë§Œ, ì´ëŸ°ì‹ìœ¼ë¡œ ë§Œë“¤ìˆ˜ë„ ìˆê² êµ¬ë‚˜ ìƒê°í•  ìˆ˜ ìˆëŠ” ê³„ê¸°ê°€ ë˜ì—ˆë‹¤.   

## 4. ì°¸ê³ ìë£Œ  

â… . [100 Days of Code: The Complete Python Pro Bootcamp for 2022](https://www.udemy.com/course/100-days-of-code/)

---

```bash
ì´ì œ ë§‰ í”„ë¡œê·¸ë˜ë° ê³µë¶€ë¥¼ ì‹œì‘í•œ ì´ˆë³´ ê°œë°œìì…ë‹ˆë‹¤.
ì´ ë¸”ë¡œê·¸ ê¸€ë“¤ì˜ ì£¼ ëª©ì ì€ ê³µë¶€í•œê²ƒì„ ë³µìŠµí•˜ê¸° ìœ„í•œê²ƒì´ë©°, 
ë§Œì•½ í‹€ë¦¬ê±°ë‚˜ ìˆ˜ì •í•˜ë©´ ì¢‹ì„ ë¶€ë¶„ë“¤ì€
ì¹œì ˆí•˜ê²Œ ëŒ“ê¸€ë‹¬ì•„ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. :)
```

---